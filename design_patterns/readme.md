# 设计模式

## 一. 如何定义代码质量
* 可维护性（maintainability）
* 可读性（readability）
* 可扩展性（extensibility）
* 灵活性（flexibility)
* 简洁性（simplicity）
* 可复用性（reusability）
* 可测试性（testability)

面向对象中的继承、多态能让我们写出可复用的代码；编码规范能让我们写出可读性好的代码；
设计原则中的单一职责、DRY、基于接口而非实现、里式替换原则等，可以让我们写出
可复用、灵活、可读性好、易扩展、易维护的代码；设计模式可以让我们写出易扩展的代码；
持续重构可以时刻保持代码的可维护性等等。具体这些编程方法论是如何提高代码的可维护
性、可读性、可扩展性等等的呢？我们在后面的课程中慢慢来学习。

## 二. 编程方法论

* 面向对象
* 设计原则
* 设计模式
* 编程规范
* 重构技巧

面向对象编程因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。设计原则是指导我们代码设计的一些经验总结，对于某些场景下，是否应该应用某种设计模式，具有指导意义。比如，“开闭原则”是很多设计模式（策略、模板等）的指导原则。设计模式是针对软件开发中经常遇到的一些设计问题，总结出来的一套解决方案或者设计思路。应用设计模式的主要目的是提高代码的可扩展性。从抽象程度上来讲，设计原则比设计模式更抽象。设计模式更加具体、更加可执行。编程规范主要解决的是代码的可读性问题。编码规范相对于设计原则、设计模式，更加具体、更加偏重代码细节、更加能落地。持续的小重构依赖的理论基础主要就是编程规范。重构作为保持代码质量不下降的有效手段，利用的就是面向对象、设计原则、设计模式、编码规范这些理论。


### 2.1 面向对象
面向对象的四大特性：封装、抽象、继承、多态

### 2.2 设计原则
* SOLID 原则 -SRP 单一职责原则
* SOLID 原则 -OCP 开闭原则
* SOLID 原则 -LSP 里式替换原则
* SOLID 原则 -ISP 接口隔离原则
* SOLID 原则 -DIP 依赖倒置原则
* DRY 原则、KISS 原则、YAGNI 原则、LOD 法则


### 2.3 设计模式
有 23 种经典的设计模式。它们又可以分为三大类：创建型、结构型、行为型。


| 创建型  | 结构型 | 行为型| 
| ------------- |:-------------:| ------------- |
| 单例模式      | 代理模式    | 观察者模式      |
| 工厂模式      | 桥接模式     | 模板模式      |
| 建造者模式 | 装饰者模式     | 策略模式      |
| 原型模式(不常用) | 适配器模式 | 职责链模式      |
| x | 组合模式(不常用) | 迭代器模式      |
| x | 享元模式(不常用)| 状态模式      |
| x | 门面模式(不常用) | 访问者模式(不常用)      |
| x | x    | 备忘录模式(不常用)      |
| x | x    | 命令模式(不常用)      |
| x | x    | 解释器模式(不常用)      |
| x | x    | 中介模式(不常用)      |

### 2.4 编程规范
[google code styleguide](https://google.github.io/styleguide/cppguide.html)


### 2.5 重构技巧
1. 重构的目的（why）、对象（what）、时机（when）、方法（how）；
2. 保证重构不出错的技术手段：单元测试和代码的可测试性；
3. 两种不同规模的重构：大重构（大规模高层次）和小重构（小规模低层次）。
